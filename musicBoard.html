<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Music Board</title>
        <link rel=stylesheet href="musicBoard.css">
</head>

<body>
        <div class="keys">
                <div data-key=81 class="key ">
                        <kbd>Q</kbd>
                        <span class="sound">Clap</span>
                </div>
                <div data-key="87" class="key">
                        <kbd>W</kbd>
                        <span class="sound">Hit Hat</span>
                </div>
                <div data-key="69" class="key">
                        <kbd>E</kbd>
                        <span class="sound">Kick</span>
                </div>
                <div data-key="82" class="key">
                        <kbd>R</kbd>
                        <span class="sound">openHat</span>
                </div>
                <div data-key="84" class="key">
                        <kbd>T</kbd>
                        <span class="sound">ride</span>
                </div>
                <div data-key="89" class="key">
                        <kbd>y</kbd>
                        <span class="sound">snare</span>
                </div>
                <div data-key="73" class="key">
                        <kbd>I</kbd>
                        <span class="sound">tom</span>
                </div>


        </div>
        <audio data-key="81" src="sounds/Basic_Rock_135.wav"></audio>
        <audio data-key="87" src="sounds/Basic_Rock_Crash_135.wav"></audio>
        <audio data-key="69" src="sounds/Basic_Rock_135.wav"></audio>
        <audio data-key="82" src="sounds/Basic_Rock_FillintoCrash_135.wav"></audio>
        <audio data-key="84" src="sounds/Big_Thwack_120.wav"></audio>
        <audio data-key="89" src="sounds/Basic_Rock_135.wav"></audio>
        <audio data-key="73" src="sounds/Basic_Rock_Crash_135.wav"></audio>

</body>
<script>
        
        function playSound(e) {
                const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
                const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
                
                if (!audio) return;
                audio.currentTime = 0;
                audio.play();
                key.classList.add('playing')
        }
        function removeTransition(e) {
                if (e.propertyName !== 'transform') return;
                this.classList.remove('playing')
                
        }
        window.addEventListener('keydown', playSound)
        const keys = document.querySelectorAll('.key');
        keys.forEach(key => key.addEventListener('transitionend', removeTransition));
</script>

</html>